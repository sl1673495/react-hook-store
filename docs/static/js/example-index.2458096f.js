(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"./example/index.css":function(e,n,t){},"./example/index.mdx":function(e,n,t){"use strict";t.r(n);var a=t("./node_modules/_@babel_runtime@7.7.1@@babel/runtime/helpers/esm/extends.js"),o=t("./node_modules/_@babel_runtime@7.7.1@@babel/runtime/helpers/esm/objectWithoutProperties.js"),r=t("react"),A=t.n(r),c=t("./node_modules/_@mdx-js_react@1.5.1@@mdx-js/react/dist/index.es.js"),s=t("./node_modules/_docz@1.2.0@docz/dist/index.esm.js"),i=t("./node_modules/_antd@3.25.0@antd/es/card/index.js"),u=t("./node_modules/_antd@3.25.0@antd/es/spin/index.js"),d=t("./node_modules/_antd@3.25.0@antd/es/button/index.js"),l=t("./example/store.ts");t("./example/index.css"),t("./node_modules/_antd@3.25.0@antd/dist/antd.css");var g=Object(l.a)((function(){var e=Object(l.b)(),n=e.state,t=e.getters,a=e.dispatch,o=t.countPlusOne,c=n.loadingMap,s=n.count,g=c.any(["asyncAdd"]);return A.a.createElement("section",{className:"wrap"},A.a.createElement(i.a,{hoverable:!0,style:{width:240}},A.a.createElement(u.a,{spinning:g},A.a.createElement("div",{className:"chunk"},A.a.createElement("div",{className:"chunk"},"store\u4e2d\u7684count\u73b0\u5728\u662f ",s),A.a.createElement(d.a,{onClick:function(){return a({type:"add"})}},"add"),A.a.createElement(d.a,{onClick:function(){return a.action({type:"asyncAdd"})}},"async add")),A.a.createElement("div",{className:"chunk"},A.a.createElement("span",null,"\u901a\u8fc7getters\u8ba1\u7b97\u51fa\u6765\u7684countPlusOne\u662f ",o)),Object(r.useMemo)((function(){return A.a.createElement("div",{className:"chunk"},A.a.createElement("span",null,"\u53ea\u6709count\u53d8\u5316\u4f1a\u91cd\u65b0\u6e32\u67d3 ",s))}),[s]))))}));t.d(n,"default",(function(){return m}));var b={},p="wrapper";function m(e){var n=e.components,t=Object(o.a)(e,["components"]);return Object(c.b)(p,Object(a.a)({},b,t,{components:n,mdxType:"MDXLayout"}),Object(c.b)("h1",{id:"react-vuex-hook"},"react-vuex-hook"),Object(c.b)("p",null,"react-vuex-hook \u662f\u5229\u7528 React Hook \u914d\u5408 Context \u548c useReducer \u5c01\u88c5\u7684\u4e00\u4e2a\u7528\u4e8e\u5c0f\u578b\u6a21\u5757\u7684\u72b6\u6001\u7ba1\u7406\u5e93\uff0c\u63d0\u4f9b\u7c7b\u4f3c vuex \u7684\u8bed\u6cd5\u3002"),Object(c.b)("h2",{id:"\u5b89\u88c5"},"\u5b89\u88c5"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{}),"npm install react-vuex-hook -S\n")),Object(c.b)("h2",{id:"\u66f4\u65b0-20"},"\u66f4\u65b0 2.0"),Object(c.b)("ol",null,Object(c.b)("li",{parentName:"ol"},Object(c.b)("p",{parentName:"li"},"\u65b0\u589e\u6d4b\u8bd5\u7528\u4f8b\uff0c\u6d4b\u8bd5\u8986\u76d6\u7387\u8fbe\u5230 100%")),Object(c.b)("li",{parentName:"ol"},Object(c.b)("p",{parentName:"li"},Object(c.b)("inlineCode",{parentName:"p"},"mutation")," \u7684\u51fd\u6570\u53c2\u6570\u987a\u5e8f\u548c Vuex \u4fdd\u6301\u4e00\u81f4"))),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"  mutations: {\n    // \u6d45\u62f7\u8d1dstate\n    add(state, payload) {\n      return Object.assign({}, state, { count: state.count + 1 })\n    },\n  },\n")),Object(c.b)("ol",{start:3},Object(c.b)("li",{parentName:"ol"},Object(c.b)("inlineCode",{parentName:"li"},"actions")," \u7684\u51fd\u6570\u53c2\u6570\u548c vuex \u4fdd\u6301\u4e00\u81f4")),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"  actions: {\n    async asyncAdd({ dispatch, state, getters }, payload) {\n      await wait(100)\n      dispatch({ type: 'add' })\n      // \u8fd4\u56de\u7684\u503c\u4f1a\u88ab\u5305\u88f9\u7684promise resolve\n      return true\n    },\n  },\n")),Object(c.b)("h3",{id:"\u9002\u7528\u573a\u666f"},"\u9002\u7528\u573a\u666f"),Object(c.b)("p",null,"\u6bd4\u8f83\u9002\u7528\u4e8e\u5355\u4e2a\u6bd4\u8f83\u590d\u6742\u7684\u5c0f\u6a21\u5757\uff0c\u4e2a\u4eba\u8ba4\u4e3a\u8fd9\u4e5f\u662f react \u5b98\u65b9\u63a8\u8350 useReducer \u548c context \u914d\u5408\u4f7f\u7528\u7684\u573a\u666f\u3002\n\u7531\u4e8e\u6240\u6709\u4f7f\u7528\u4e86 useContext \u7684\u7ec4\u4ef6\u90fd\u4f1a\u5728 state \u53d1\u751f\u53d8\u5316\u7684\u65f6\u5019\u8fdb\u884c\u66f4\u65b0(context \u7684\u5f0a\u7aef)\uff0c\u63a8\u8350\u6e32\u67d3\u590d\u6742\u573a\u666f\u7684\u65f6\u5019\u914d\u5408 useMemo \u6765\u505a\u6027\u80fd\u4f18\u5316\u3002"),Object(c.b)("h3",{id:"\u7f16\u5199-store"},"\u7f16\u5199 store"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"// store.js\nimport initStore from 'react-vuex-hook'\n\nconst store = {\n  // \u521d\u59cb\u72b6\u6001\n  initState: {\n    count: 0,\n  },\n  // \u540c\u6b65\u64cd\u4f5c \u5fc5\u987b\u8fd4\u56destate\u7684\u62f7\u8d1d\u503c\n  mutations: {\n    // \u6d45\u62f7\u8d1dstate\n    add(state, payload) {\n      return Object.assign({}, state, { count: state.count + 1 })\n    },\n  },\n  // \u5f02\u6b65\u64cd\u4f5c\uff0c\u62e5\u6709dispatch\u7684\u6267\u884c\u6743\n  actions: {\n    async asyncAdd({ dispatch, state, getters }, payload) {\n      await wait(1000)\n      dispatch({ type: 'add' })\n      // \u8fd4\u56de\u7684\u503c\u4f1a\u88ab\u5305\u88f9\u7684promise resolve\n      return true\n    },\n  },\n  // \u8ba1\u7b97\u5c5e\u6027 \u6839\u636estate\u91cc\u7684\u503c\u52a8\u6001\u8ba1\u7b97\n  // \u5728\u9875\u9762\u4e2d\u6839\u636estate\u503c\u7684\u53d8\u5316\u800c\u52a8\u6001\u53d8\u5316\n  getters: {\n    countPlusOne(state) {\n      return state.count + 1\n    },\n  },\n}\n\nexport const { connect, useStore } = initStore(store)\n")),Object(c.b)("h3",{id:"\u5728\u9875\u9762\u5f15\u7528"},"\u5728\u9875\u9762\u5f15\u7528"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"// page.js\nimport React, { useMemo } from 'react'\nimport { Spin } from 'antd'\nimport { connect, useStore } from './store.js'\n\nfunction Count() {\n  const { state, getters, dispatch } = useStore()\n  const { countPlusOne } = getters\n  const { loadingMap, count } = state\n  // loadingMap\u662f\u5185\u90e8\u63d0\u4f9b\u7684\u53d8\u91cf \u4f1a\u76d1\u542c\u5f02\u6b65action\u7684\u8d77\u59cb\u548c\u7ed3\u675f\n  // \u4fbf\u4e8e\u9875\u9762\u663e\u793aloading\u72b6\u6001\n  // \u9700\u8981\u4f20\u5165\u5bf9\u5e94action\u7684key\u503c\n  // \u6570\u7ec4\u5185\u53ef\u4ee5\u5199\u591a\u9879\u540c\u65f6\u76d1\u542c\u591a\u4e2aaction\n  // \u7075\u611f\u6765\u6e90\u4e8edva\n  const loading = loadingMap.any(['asyncAdd'])\n\n  // \u540c\u6b65\u7684add\n  const add = () => dispatch({ type: 'add' })\n\n  // \u5f02\u6b65\u7684add\n  const asyncAdd = () => dispatch.action({ type: 'asyncAdd' })\n  return (\n    <Spin spinning={loading}>\n      <span>count is {count}</span>\n      <span>countPlusOne is {countPlusOne}</span>\n      <button onClick={add}>add</button>\n      <button onClick={asyncAdd}>async add</button>\n\n      {/** \u6027\u80fd\u4f18\u5316\u7684\u505a\u6cd5 * */}\n      {useMemo(\n        () => (\n          <span>\u53ea\u6709count\u53d8\u5316\u4f1a\u91cd\u65b0\u6e32\u67d3 {count}</span>\n        ),\n        [count]\n      )}\n    </Spin>\n  )\n}\n\n// \u5fc5\u987b\u7528connect\u5305\u88f9 \u5185\u90e8\u4f1a\u4fdd\u8bc1Context\u7684Provider\u5728\u5305\u88f9Count\u7684\u5916\u5c42\nexport default connect(Count)\n")),Object(c.b)("h3",{id:"\u6548\u679c"},"\u6548\u679c"),Object(c.b)(s.c,{__position:0,__code:"<Count />",__scope:{props:this?this.props:t,Playground:s.c,Count:g},__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AABSgVxEhSIRQgwdh5FdY12gPAAvP1-TtKZHGQqU3XaD0fzJGBcIg9hA0ldDZXlM12jBVBdBRY5Tiw5wCESLF2G4dhgHWKIBGeVArnaAAGdgkxmLB2j3asZg7FgZwkgAWOT2AANjkhT1jAYCADFvWgRIJP4ZxDgRB1MBgoR-CWIhqEoOBlIRfTq0MmhnAgLDLnYABGdTFPkFi2KmABBOZ-PYCMoPIGwoHQMNUI5fixDi6MZHYFFeJgbhgGw7j8rgeQtxrYBEugFLggAMjq8ZEnmShmmq5LUu4Lq5TAZDJQGVB2nYAB-DYarDCN0qudratQMLqykGQqzfMwYXVY4YDAMIoCmSaMqyhbouXasE1oggcCMzIUivAgKprVc2kzTcVykM6Lqum6KqkI7lrML8QHI2BJFUbAcAIOAsEA3QQIMMC8PWs6ligvIYD1GBnNQ-iTU1ZjUHh-0oOcGY0CWa9wgiVAlnsVwBByNCjQY9wCHQXH8cgwtUGdSUlhR7ihW6emSI9FF-dZ6jSOB8NcDOOAxfwuUmfQHcUUkRWPjgWWWN61ju3MQiaD2oTqwiwTcoILIllPWgBDgJYWDc6JEsxgTeYiLpJvWE2EseghYLyHVnWdkcbgyOBPeodioKgSgOwKPVZiWKgiKDlEsnWR52Gj2OZ3jmZAHozQBQxUAC4TAAXjQBs-UAELdAA3lQB5xPYQAseUARbdABoVQAgfUAU2szQGivAHdYwBpzUAGJVAGW_QB9c3TyR2EAfvlADi5QBXDMAI3TAD4zQAuTyz1SUkANqdAEADcf2EAAHTAEDIwACeUAU0VAE_tQAUvS76gK-2GBEkAHgVd8AB1NABG_AvAHvlQBTuUATMVACxNQAnhmABgVQAb6Ytz_oAKjlr7-mrBnQArg6AHxDQApuaAAS7ae6BWCuHDqgdia8CixTwTnWYOAkQRgANrtH8IkVikVOztAALpvgsBnIB7cK4qWwexFSsU9rcEyvbZSBBErxSavMCSKkhryBWrAieHd2Gdk4VMKhNDOw8PSnw44thBGJRIf1agIieJiIVnAah5BaEszSusLoBA-jmCjCdWscAti6x6HBDWAA5b0BV-AjEyDMcQK4EzU1poEmswxWAZFcB4WAoSLB5VgIVKCOJ0ATCuAAJnUtJeQ817oWDurkxgRM0C5WJpzAohVCEpHKrEmsMYODkDcXATxR4-A6DwMhbYASHG5NqTlBp_gmleNaYlDp4gRZdEALRyFck40EAA3OgAKdTzoJGZBB5CLVjDU-6jAyY3GZNQewUBYjbEKipcqKkpA7IpvknpCZLl7NQAco5JyTEqPQGcl55AQidgueTag1yCk7lkJs2sfTGnNO8W00ZIB_k9MYA7VAYhABYCYAcfirah0AIXRgB070AF-KSDpk-z9nAAOMAllVQJVAf2zo1mSHhTC2pgKqzAuAMYIw7BADkBoAX4DAAY8oANGUK6AC0FQAqzbsFZTyHJNyLDABRmjZy9iJX3V4ZlOV8qtmgoGeC4Z7TUCdOhcC2FtLABXyoASHMVlVx5fXQAs4mAAbTQATHaAGXzZZPtqW0r1fSparqOSKRVRYMhKz6HAo5OK2FkgikItCVIYJ6B8lSCcXosN1Y3zzTMBnQAo_qAG8MwAFK66C5gQQAoMqAE-I9gxd66AF35QAg9GOD0FgAgFdoJCFYFwDI8yC36xrYANE1ABCOqtLA8tMBbVCDtDmOaIytrfP9QGMAaVuz_ODKGwF9CGAnuMv8mhbTrTQC8PmXQsakWFgIcgfozAmxGK4ccAkIwxCPFcVAoQiCBAEOozKzoxh1siNSCMXQ4CUCgBE_aTiCCWH5DAfYH74DfoiUsS9MAOQfhYmte0Xsh3OJ5k4rdAtYoboIGh-Ku9AC4Sn3be6xTwNDxlh82tAriKrikbe6KyriSS9TWI8GtXBpAkgACXnNHTy91o4pHuOwMh9CQiElRAUITjGpGMZYe3QAsyaAB15dg6bAAr8YAPbVU60AroAd6NAC4sU_asRBwjRAGgJmjNYM6AFFbXTGnGQOJUhGGz6UzP3WsbY9gOoPDqGcSQjWEAUioHikoM2FtTZ0eC7QD4Pt2AAGogppRVA4pQK5ErRAc-RmATl4AVDY2bacKQnOhNcwIcwznck4HKzZxjPTmPZYy6E-QCX7pJYcXxtLIXlK8RjugK4KI8sFe6ROUcbnSv3XKzgSrNS-MCbIR1teSwxs2ZwFN-hVWawNZXM1iwm32AZw7gpwAMP-AFOjI1AjHZ4AroAcyNAAyEYAYXN1jQNMyuZRnznvmJEadoReAliVeDtbOwQXZtdf6z01wJ7xxg4IBGQKkkYewYGx94RUFDEBUoXQ-LoSM5qYrg_eugBqiILRXfsb6nGDa_T-2zPSivmFRAyRra3JPSYnliwAejpsvYIATgtAB2xjZwAM4nY8ABVKW8sW73mQvCZXObMP2rjywAMAGC7NUR0cf2rilZWYS4lbXaDA9yVT8Lf4VkxaCnTrbDOzBSIS-OrA3oKKSzUOrLQFB52gRADgMAsAfBmYEXBcyhp3cJaTagJbm1ILrC9_BK4bvsB08j1gS0EAuhxumt-29qA6ebD84QK4AB2SSrA8DR_d-aDw_hbBXAAKySQAKR05EmJc0_QUiZ6CmkuS_uWJB7AFMSLyczMx6LyXgTSZ1J55rzTOvXhdlEHSXns37fYCd_YN3zMOBfEJzMB3rvBuSE0HNHEWmgl1jp8bwQK40Oq-j9EmgIvIgIhT-b632fMCN-L5SyHryhfi_5EH8P_Pj_1_z830mEX1XxmEUmfw-CAO3wtD3xyDMyPybzP2rz_0Dwb0IAP3f2wFPzTxgAzxP3YBzxH2QNDFwOAL8TANQK7yZl3xplgMPxwOP1PxhyQLmnbwoMXyoJgPQIsEoAiQEDd1GHNB9zCAiDbyf04LM1ryvwn1vyuCTF0iwFEP_0oFnAkLHykJv0iFPxbwUMf3-jgH3Vt1BnBkhm0GhgXThmojOh3VNEVASzZl8EoFsDI2MzOB3WGCcPNFQGoHr01HNA01iFljsOoiJxmEsGangB3RCPNGR0CLXQJnBG4gtnBAAHEldQ5GMGgAAZLrOONfasBoHUGYXWW2cEStHNDIrULRM7SKUSEo_Iyoh2T7DIytWgatDIvUIzYogANXiAZFCh3Q9BiMPVYgjnZhRjFHQFCARAEBQxgBaOwAIFmJlWHDQgEjOgSwzlNCwCuEAGwlQAL71AAAOQgUAHgdQAaPUK5l1u1e1NptopQ-oXFMM0NGB1hEjaBoRq06B0A7BgBtsOjyMTMABpe-d4kCL43LAoRjVIkOG2IE5IBYz40TPLRjSKONOAWEkEhE8EmcMwBsSgIokzYaK4Ao_EiOQpdLJYP44zCOWEpYKEv7Gk9gFE4o2EsQbXL2FcYjUjV47oc9R9XIcMSAZ0RYFcQzf4iOWKH4kTGiLYIUdARgSk5k--JYBoBUkzHoilGAMkrIMQMQVbB7K4TIEYJkkzCU7bCwNFG2A00HOk0OU0qUhoG0m2LU2gWktImE--XU9YVYvYEknBdgAAH39MEnWxgQsCIAgCwDQFVIjgjFFKpJwTh0UUG0mOmJ4RsyuG5KWGgSJIaO0TwBqP43lM6MBI9L5NV1GNNmR1JHgjXiDmgWNw5nYjjJcQEmbJMzIWR3oQbIzgzWnkAAB9QAReVAB650AGCNEBEuZeQAH6Mf5ABMVMAHvo_bb-QAWDl0UT5ABpW0AFXowAMMjAA1t0AHDnFcYwTgVOVADwAdTgfzfmTgZoHkFcCAZoC9cI1qdgNs5kAAQm6naG1jjVfC4NyWRzPAECEAEEfPmDhyaxXF11fICx-0Bw7HAtQjpxNnmOrVijenIFNFoBQoIGeIcQaGwsYAaG5OdIy0ZNRJZIpOLOpKVPYEdLRJouNOosSAqgbBvQXCQorNfQbSnB4RCIEyRDLOSwrISiSlmiDj4obJNjIR-wRzwGExdicQmKmMjC6BTIyB5gFLQGyEtlHBI03XSwQuYSZ0xQOMACijT4GYcIbIISnBKYCyqy9AOi2KaVdGSgCMKjTDR0ki106E-i5ij9a0t022PXT1QTUJCbBxRhbsieQASuiHtrtABZJUADgVQATlMq5KkbKuFUTnKnFlj3K-TMNGKcEAqjTUS7YqjPtQqhNDLGyphZKiqcrUZXLlUFUCrSNczqi40IxZKsyyq9dE5HQHK6LPVQkyEHsBqBQhqgrvt0sVsVwaqM56q41ABCm0FX5UAAYlQAVH0M0S1ABAYyXKrnYEAAEjL-QAIGN1rZLAAoOUPInkAE34wAdgsM1AB2I0AH95DNFGM8MAMAZxUy2S-TQALjlABc-UADVY9gQARh0lz65AACBMAAQjQAA9NAAFNMABezK1TKqYfMPADqz7IqnMiqxKIssUnBBkoqvyzKASWSqUpEBsjGrGxKIq3RFszRRoumuNBLG69gC1QAXxVABYFRs3YF7MAC59QANiVAAK40AFrTQAbx9Ti0bkzlKBBuSiTiLMyyLFTmLYo-b_AQhUBEhor2BABNv0qVzkAAKlS6g4wAbLlZgIAZa6A_BWJshuTYobb3AERsjs4Uhc5vKVaSz_LVK5buSardcWralsKcAuLG0BAalMENTElgV0zoRUBbaER0BMzgVZKrgaa8b8y41VsekLSBN7LaBHLpqalslQk6UqpRKwwg16UQ6w6px8kEKQz1g66MgcAQiwj5g7ABJVdK66Arh27wi4AcB5x0ZjxbAxQABHUIePbSr0tm42Cs7NZxIkso5xWKNcagF0DRcs2y9gAAdT8T3txBbqOHPT4quAEv2iDoTBPrpUYA3ozEgjGz4rQmegGykFvvmvnvugzhNrD0SHBXZt00AE10reVnSCobYrEIUSW9fQFo09Z0ECg-2YI-iYE-qmR0TemgRu7-2q3IVDadNRfaFGbCkdedatBC3Xb2TmZDfBmANDRC5A5C9jSKdxZIs8AAfUyJ1Eii1AaDYdinaAAAEhGUsZwYBXb15uS_Rf6T40rKlt4K5ABO00FTMG_JcXDMjNQGjOKugrgG111w8y80lB83yH81jKopwSRhXDIXsBYbYc4e4d4f4eSPoU11IrgvQG11o2EpCDjQZNsEkfwW9M8YbIsEQ0NtmBTnSzCbwefSCaIRmAlJqTG0idAJqTGv8fvnoSuECZyJnBzsYYGyoZSYq3JMm3yfdtmGvRgBGASaqfSYGxDKa0kzhwDwzhRUAABzK1C49LUyi0rFXFNR-4gaTgUjLy5Wui9E-EjAREgoBsKxQK3yokuiz2qZj0xjOOlO98P8k2POu0zWh0oKtZoKlkji3ew0x02Eru9zTzbzO-RIOAEq4aunS5t06513IUM8CUPAZ5954E7emWt56E2KYFv7MhMFjIWErsoF-AAdKYASSFkCxzBsvOiFpZ62aF0FuFnaOnc3KxSB8wPOxQ1ADOQAaqVdrAB85SNXYTjRUfYHmWgUSqSqRpSoUZ3lQHUdGcKtRJKpJvKuZrwDZMXttrSHqZ4WgQCbgHqcfRXFkpwwG2RyuDsdYfYa4Z4b4bYcKc8ZVxqTybdsKYsElaVPq1W3xYXt3oe1NPOfYkNKKuudiiMfufviebtdRModB3tZdc-YEG-eETdd1nRMBbs1RPRdKsDeydimezijG2gQLP0f2hGw2HcDFcqb5aycSEgzRGg1iZNk_XhajYhwnE9dDYDYGmhYjFjbjXjZqvCdFYkbTbLeoAZK2igCcVrcGxsSgfzdxY2zxcTOrF1wexJcWszr8eKL5xUeTQnjUyJ3DKcWGZ1m5faszqKu6szt6uKJmpCzzoMcJeo1EQ8ZrK6zSgyhXGfXsmJxgHcs_XA1Iq6GMYIEEoG3vLimR2fIew7PCPks_K5eoF_KTaNdDc7Pew3f6t-1tIB2PfgrBk2AC1vfJw7bQnnBJ0A8PcAuAtApzfqw2zaa1hGeZCdrtvqY9uVpJumY-NmaxJSAWerDjqIvS09vI42bMA5EVsY7I_Io9L_Nffce8evLijfMWzSf47iXSyW0qdzgObsCRA2xlqjkk6ie9JswbLSe32SAEgea7syiTa09ihqMyESBwFsAM_ggjC0_SlGj06uDIS05heKf3a0_G0iGvYef2jfLfLSds-yZquaZrF1xU69OQL_ep3CIw6FCw-1wmCEDGAvfC5AuKAyGAvHdGaVYABJgBkd5Big8OYEQvg5czvdwUIxkG5hsgH79A92u3zBSv5h0AKuaAcB_7wUAygzavyvMHH6cBUAvFWu5R2v6vOv9A_QA98ux9YGaB4GtKQKpvEGlgBuGun2_yM49bX5AA3uUADyNI25rrxdYWb1unbo8WKYobDDL08Qr-CYrhbob7BqRYoOnDOLb_HfNdbiubavb4CBB1u679MLe_evxOrxb15_d9wlEV4gIshmgL7mY_72YQHm7p90QvQgwmIww3AWdUwp3WGcCeWVlTWqwhmbGJiee-DMcPQPgiUboFUyxuAdUhkEinT9YdxjM8kvsaD7rLWxINj9gbkkl0nsZ62LaGyI53yunzU7kxn6sZnnngyi-7WvnntdaZHRoJW1n5juEyjsE3reZ2KB2xqMzNJokkj2YRgdXsQf3EnxX-0ZXrIxTmYU3rjjX0EuZmcMm6UqgWmB31WpYLwb9cUBFdgfX-7bWyjLTq4dXgMr2pi6q_aX38kVPM3eetAQXynxoIqgil48p6sHRvyyE054EmZrXsTAp9YCPwvl3woAPszLZmJxXZZ932UxgdZzNxoOisXhn830PTO3GwVgm-M3PqPomj0hX-WG3kmwo3WXCiwbZiwHPij536jvP3y-fzE7Xkv6sMvzXivnEtCmUz30vx3xjIOsw6tIk9P8hnC5Wufmi5vpYM31bHVznxjPk19edzUpEKsTvmBfn5PjIIXqnifiZin4y8ki2fGnivyo5r8UgS_ekgXy36L8D-qtDEpAOL6V9Je5pXSlyXSyUY-SvPYSDTyuBigPecpa_i32p6E1aevRcXulh1J0486KzY5pM3z7MU6c-pNPqiUAHUBPapAnyrAJb5m8R-66cnv_0aCr06IZmMhr9xoCEDNQOARbh3Xf7a1WSMgs0BdHsCCD7Qv_CnsL1pr5laiffVWugMPZXBSBdOTxoSU54aCyeKfHQau2rb6Czef5JVoPz8pmD2eFgqmsgX5429dBBg72nf0d5u83ovghoLoPjZ-CmKOpQPn-WzJxQx8AmUIXYN1jhCzeL_GUNSEYAf8LecGK3lMBt6rMmBy_OAQvygFBC9-cpW_q3yCrt8JeX_K4kIJsFU8M-1YGfuwB4HrBm-yAovkiUQHe0uh2_Kvl30FY988yEQofvwMCF056OqvELAILr7K4qhvlE5kUJYG6ElAIAdyNsFYwrov0qAOdHoGdxmZ-APXI8PwCuD8AfgxYaoBkHNATpHI6wfgLwXyDUAzh7AfgJJBwAfDJI9w6sPwHKAYUIAvpV4fwEii5Q8IsAd4tbghGYAyQlARILmDyD4IbC0BIsH8FLA_CLA_AKIGgGBEqApY_4MOCAEYx_CYA8wcMKxAgDwBXhpWfgMiNxEAA9QKNpBwCBRAonwjETWH4CKwGRSYHAGkjLzsiiRK4fgKDwtBeFUAPhM0H4X-JnAeROAXkd8KFEOJ-AURGIgyMCgCis8fIjkZiMEC-ErQ6o5kayMFFBc5oehNEdLGoCQAUgBI6gPsJhgMAhIIAWgD6DThIALhmFGAJKMlDmg4e_AeQAoGyRAA",mdxType:"Playground"},Object(c.b)(g,{mdxType:"Count"})))}m&&m===Object(m)&&Object.isExtensible(m)&&Object.defineProperty(m,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"example/index.mdx"}}),m.isMDXComponent=!0},"./example/store.ts":function(e,n,t){"use strict";var a=t("./node_modules/_@babel_runtime@7.7.1@@babel/runtime/regenerator/index.js"),o=t.n(a),r=t("./node_modules/_@babel_runtime@7.7.1@@babel/runtime/helpers/esm/asyncToGenerator.js"),A=t("./node_modules/_@babel_runtime@7.7.1@@babel/runtime/helpers/esm/toConsumableArray.js"),c=t("./node_modules/_@babel_runtime@7.7.1@@babel/runtime/helpers/esm/defineProperty.js"),s=t("./node_modules/_@babel_runtime@7.7.1@@babel/runtime/helpers/esm/slicedToArray.js"),i=t("react"),u=t.n(i),d=t("./node_modules/_hoist-non-react-statics@3.3.0@hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js"),l=t.n(d);function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(t,!0).forEach((function(n){Object(c.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var p=u.a.useReducer,m=u.a.useContext,j=u.a.useMemo;function B(e){var n=e||{},t=n.getInitState,a=void 0===t?function(){}:t,A=n.mutations,i=void 0===A?{}:A,d=n.actions,g=void 0===d?{}:d,B=n.getters,f=void 0===B?{}:B;!function(e){Object.assign(e,Object(c.a)({},O,(function(e,n){var t=n.actionKey,a=n.isLoading,o=b({},e.loadingMap,Object(c.a)({},t,a));return b({},e,{loadingMap:o})})))}(i);var E=function(e,n){var t=n.type,a=n.payload,o=i[t];return"function"!==typeof o&&y(t),o(e,a)},Q=u.a.createContext(null),C=function(e){var n=e.children,t=p(E,void 0,a),A=Object(s.a)(t,2),c=A[0],i=A[1],d=j((function(){return function(e,n){var t={};return Object.keys(e).forEach((function(a){var o=(0,e[a])(n);t[a]=o})),t}(f,c)}),[c]),l=j((function(){return function(e,n){var t=function(e,t){return n({type:O,payload:{isLoading:t,actionKey:e}})},a={};return Object.keys(e).forEach((function(n){a[n]=Object(r.a)(o.a.mark((function a(){var r,A=arguments;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t(n,!0),a.next=3,e[n].apply(e,A);case 3:return r=a.sent,t(n,!1),a.abrupt("return",r);case 6:case"end":return a.stop()}}),a)})))})),a}(g,i)}),[]),b=j((function(){return function(e,n,t,a){return function(o){var r=o.type,A=o.payload;return new Promise((function(o,c){"function"===typeof n[r]?n[r]({dispatch:e,state:t,getters:a},A).then(o):y(r)}))}}(i,l,c,d)}),[l,d,c]),m=i;m.action=b;var B=function(e){if(e){e.loadingMap||(e.loadingMap={});var n=e.loadingMap;return n.any=function(e){return(e=Array.isArray(e)?e:[e]).some((function(e){return!!n[e]}))},e}}(c);return u.a.createElement(Q.Provider,{value:{state:B,dispatch:m,getters:d}},n)};return{connect:function(e){var n,t;return(n=function(n){return u.a.createElement(C,null,u.a.createElement(e,n))}).displayName="Store(".concat(function(e){return e.displayName||e.name||"WrappedComponent"}(t=e),")"),n.WrappedComponent=t,l()(n,t)},useStore:function(){return m(Q)}}}B&&B===Object(B)&&Object.isExtensible(B)&&Object.defineProperty(B,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"initStore",filename:"src/index.tsx"}});var O="@@changeLoadingState";function y(e){throw new Error("error action type:".concat(e))}function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function E(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(t,!0).forEach((function(n){Object(c.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}t.d(n,"a",(function(){return M})),t.d(n,"b",(function(){return x}));var Q,C=function(e){return new Promise((function(n){return setTimeout(n,e)}))},w=B({getInitState:function(){return{count:0,message:"Hello",logs:[]}},mutations:{add:function(e){return Object.assign({},e,{count:e.count+1})},chat:function(e,n){return E({},e,{message:n})},log:function(e,n){return E({},e,{logs:[n].concat(Object(A.a)(e.logs))})}},actions:{asyncAdd:(Q=Object(r.a)(o.a.mark((function e(n,t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,n.state,n.getters,e.next=3,C(1e3);case 3:return a({type:"add"}),e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)}))),function(e,n){return Q.apply(this,arguments)})},getters:{countPlusOne:function(e){return e.count+1}}}),M=w.connect,x=w.useStore;"undefined"!==typeof x&&x&&x===Object(x)&&Object.isExtensible(x)&&Object.defineProperty(x,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useStore",filename:"example/store.ts"}}),"undefined"!==typeof M&&M&&M===Object(M)&&Object.isExtensible(M)&&Object.defineProperty(M,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"connect",filename:"example/store.ts"}})}}]);